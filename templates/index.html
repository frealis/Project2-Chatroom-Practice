{% extends "layout.html" %}

<!-- Custom CSS, JavaScript, Title -->
{% block custom_css %} <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}"> {% endblock %}
{% block js %} <script src="{{ url_for('static', filename='js/index.js') }}"></script> {% endblock %}
{% block title %} <title>CS50 - microChat - Index</title> {% endblock %}

<!-- Body -->
{% block body %}

  <p>
    Welcome, <img src="https://api.adorable.io/avatars/40/{{ g.username }}"> {{ g.username }}!
  </p>

  <p id="channel_list">Channels:<br></p>

  <p>
    Create a new channel:
    <form method="post">
      <input id="new_channel" name="new_channel" type="text" placeholder="Channel name" onkeypress="return AvoidSpace(event)">
      <input id="submit" type="submit" value="Submit">
    </form>
    {{ error }}
  </p>

  <p>
    <a href="{{ url_for('logout') }}">Logout</a>
  </p>

  <!-- Channel list is stored here -->
  <p id="channel_list_hidden">{{ channel_list }}</p>

{% endblock %}

<!-- <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script> -->